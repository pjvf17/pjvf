const p=c=>{for(var i=2166136261,s=i,a=0;a<c.length;++a)s^=c.charCodeAt(a),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return s>>>0},E=c=>{const i=document.getElementById("crossword-container");function s(r){return document.getElementById(`cell-${r}`)}function a(r,t=!0){var l;let e=r;for(;e<c-1;){e++;const n=s(e);if(!t||!(n!=null&&n.classList.contains("revealed-letter"))||!(n!=null&&n.classList.contains("confirmed-letter")))break}return(l=s(e))==null||l.focus(),e}function u(r,t=!0){var l;let e=r;for(;e>0;){e--;const n=s(e);if(!t||!(n!=null&&n.classList.contains("revealed-letter"))||!(n!=null&&n.classList.contains("confirmed-letter")))break}return(l=s(e))==null||l.focus(),e}for(let r=0;r<c;r++){const t=document.createElement("div");t.className="crossword-cell",i.appendChild(t);const e=document.createElement("input");e.type="text",e.classList.add("crossword-cell-input"),e.id=`cell-${r}`,t.appendChild(e);const l=document.getElementById("reveal-button");e.addEventListener("focus",()=>{const n=document.querySelector(".active-cell");n&&n!==e&&n.classList.remove("active-cell"),e.classList.add("active-cell"),e.classList.contains("confirmed-letter")||e.classList.contains("revealed-letter")?l.disabled=!0:l.disabled=!1}),e.addEventListener("input",n=>{const o=n.target,d=o.value.toUpperCase();if(e.classList.contains("revealed-letter")){o.value=d.charAt(0),a(r);return}d.length>0&&(o.value=d.charAt(d.length-1),a(r))}),e.addEventListener("keydown",n=>{if(n.key==="ArrowRight")n.preventDefault(),a(r,!1);else if(n.key==="ArrowLeft")n.preventDefault(),u(r,!1);else if(n.key==="Backspace"){if(n.preventDefault(),e.value===""){const o=s(u(r,!1));o&&!(o!=null&&o.classList.contains("revealed-letter"))&&!(o!=null&&o.classList.contains("confirmed-letter"))&&(o.value="")}else!e.classList.contains("revealed-letter")&&!e.classList.contains("confirmed-letter")&&(e.value="");u(r,!1)}})}const L=()=>{let r="";for(let t=0;t<c;t++){const e=document.getElementById(`cell-${t}`);r+=((e==null?void 0:e.value)||"").toUpperCase()}return p(r)},f=(r,t)=>{const e=document.getElementById(`cell-${r}`);e.value=t,e.focus(),e.classList.add("revealed-letter")},m=()=>{const r=document.querySelector(".active-cell");return r?Array.from(document.querySelectorAll("input")).indexOf(r):-1},g=(r,t)=>{const e=atob(r);if(t||(t=m()),t<0||t>=e.length)throw new Error("Position out of bounds");const l=e.charAt(t);f(t,l)},v=(r,t)=>{const e=atob(r);if(t===void 0&&(t=m()),t<0||t>=e.length)throw new Error("Position out of bounds");const l=e.charAt(t),n=s(t);n.value===""||n.classList.contains("revealed-letter")||(l===n.value?n.classList.add("confirmed-letter"):n.classList.add("wrong-letter"))};return{container:i,getUserInputHash:L,setLetter:f,getActive:m,revealLetter:g,checkLetter:v,checkWord:r=>{for(let t=0;t<c;t++)v(r,t)}}},b=(c,i)=>{const s=document.getElementById("result"),a=c();i()===a?(s.textContent="\u2705 Correct!",s.style.color="green"):(s.textContent="\u274C Try Again.",s.style.color="red")};document.getElementById("check-button").addEventListener("click",function(c){c.stopPropagation(),this.parentElement.classList.toggle("open")}),document.addEventListener("click",function(){document.querySelectorAll(".check-dropdown.open").forEach(function(c){c.classList.remove("open")})});export{b as compareHashes,p as fnv32a,E as generateInteractiveCrossword};
